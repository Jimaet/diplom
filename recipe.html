<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рецепт</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1 id="recipe-title"></h1>
        <p id="recipe-description"></p>
        <p><strong>Порции:</strong> <span id="recipe-portions"></span></p>
        <p><strong>Время приготовления:</strong> <span id="recipe-time"></span> минут</p>
        
        <h2>Ингредиенты:</h2>
        <ul id="recipe-ingredients"></ul>
        
        <h2>Шаги приготовления:</h2>
        <ol id="recipe-steps"></ol>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const urlParams = new URLSearchParams(window.location.search);
            const recipeId = urlParams.get('id'); // Получаем ID рецепта из URL

            if (!recipeId) {
                document.body.innerHTML = "<h2>Ошибка: рецепт не найден</h2>";
                return;
            }

            try {
                // Замените fetch на ваш метод загрузки данных из БД
                const response = await fetch(`https://your-api.com/get-recipe?recipe=${recipeId}`);
                const data = await response.json();

                document.getElementById('recipe-title').textContent = data.main.name;
                document.getElementById('recipe-description').textContent = data.main.dis;
                document.getElementById('recipe-portions').textContent = data.main.porcii;
                document.getElementById('recipe-time').textContent = data.main.timemin;

                // Заполняем список ингредиентов
                const ingredientsList = document.getElementById('recipe-ingredients');
                Object.values(data.prod).forEach(ingredient => {
                    const li = document.createElement('li');
                    li.textContent = ingredient;
                    ingredientsList.appendChild(li);
                });

                // Заполняем шаги приготовления
                const stepsList = document.getElementById('recipe-steps');
                Object.values(data.step).forEach(step => {
                    const li = document.createElement('li');
                    li.textContent = step;
                    stepsList.appendChild(li);
                });

            } catch (error) {
                console.error("Ошибка загрузки рецепта:", error);
                document.body.innerHTML = "<h2>Ошибка загрузки рецепта</h2>";
            }
        });
    </script>
</body>
</html>
